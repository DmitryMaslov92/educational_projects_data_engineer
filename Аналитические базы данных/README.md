# Аналитические базы данных

## Описание:

В данном учебном задании необходимо доработать хранилище данных, усовершенствовать его: добавить новый источник и витрину. Данные из нового источника необходимо связать с данными, которые уже лежат в хранилище. Конечная задача работы - реализовать витрину данных. 

## Цель работы:

Реализовать витрину для расчётов с курьерами. В ней необходимо рассчитать суммы оплаты каждому курьеру за предыдущий месяц. Из витрины бизнес будет брать нужные данные в готовом виде.

Создать многослойный DWH и реализовать ETL-процессы, которые будут преобразовывать и перемещать данные от источников до конечных слоёв данных.

Изучить возможные источники и их внутреннюю модель хранения данных, а также технологии, которые используются для получения данных из этих источников.

На основе требований, целей дальнейшего использования, информации об источниках спроектировать многослойную модель DWH, подробно прорабатывая каждый слой данных.

Для передачи результатов заказчику оформить всю необходимую документацию.

## Этапы работы: 

1. Изучить API системы доставки заказов.
2. Создайть таблицы для слоёв в хранилище.
   2.1. Задать структуру витрины расчётов с курьерами.
   2.2. Спроектировать структуру DDS-слоя.
   2.3. Спроектировать структуру STG-слоя.
   2.4. Выполнить составленные ранее DDL-скрипты.
3. Реализовать DAG.
   3.1. Реализовать заполнение STG-слоя.
   3.2. Реализовать заполнение DDS-слоя.
   3.3. Реализовать заполнение CDM-слоя.

## Описание рабочих файлов:

Папка src/ddl.

cdm_init_schema.sql - создание схемы cdm, создание таблицы cdm.dm_courier_ledger.

dds_init_schema.sql - создание схемы dds, создание таблиц: dds.dm_users, dds.dm_restaurants, dds.dm_products, dds.dm_timestamps, dds.dm_orders, dds.fct_product_sales, dds.dm_delivery_timestamps, dds.dm_couriers, dds.dm_deliveries, dds.fct_deliveries, dds.srv_wf_settings.

ddl/stg_init_schema.sql - создание схемы stg, создание таблиц: stg.bonussystem_users, stg.bonussystem_ranks, stg.bonussystem_events, stg.ordersystem_users, stg.ordersystem_orders, stg.ordersystem_restaurants, stg.deliverysystem_restaurants, stg.deliverysystem_couriers, stg.deliverysystem_deliveries, 


Папка src/dags/delivery_system/cdm - файлы для заполнения слоя cdm.

Папка src/dags/delivery_system/dds - файлы для заполнения слоя dds.

Папка src/dags/delivery_system/stg - файлы для заполнения слоя stg.

